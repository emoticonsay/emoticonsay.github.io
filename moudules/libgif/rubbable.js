(function(b,c){"function"===typeof define&&define.amd?define(["./libgif"],c):"object"===typeof exports?module.exports=c(require("./libgif")):b.RubbableGif=c(b.SuperGif)})(this,function(b){return function(c){var a=new b(c),m=function(){var f=function(a){return c.vp_l?a-c.vp_l:a},b=a.get_canvas(),h=c.vp_w?c.vp_w:b.width,m=Math.floor(h/(2*a.get_length())),e=0,g=0,k="ontouchend"in document,l=0;b.addEventListener(k?"touchstart":"mousedown",function(d){d.preventDefault();a.get_auto_play()&&a.pause();var b=
d.touches&&0<d.touches.length?d.touches[0]:d,c=(0<b.layerX?f(b.layerX):h/2)/h;a.move_to(Math.floor(c*(a.get_length()-1)));g=d.timeStamp;e=f(b.pageX)});b.addEventListener(k?"touchend":"mouseup",function(d){e=g=0;a.get_auto_play()&&a.play()});b.addEventListener(k?"touchmove":"mousemove",function(d){d.preventDefault();var b=d.touches&&0<d.touches.length?d.touches[0]:d,c=f(b.pageX);currentDistance=0===e?0:Math.abs(c-e);currentTime=d.timeStamp;0!==g&&currentDistance>m&&(c<e&&0<a.get_current_frame()&&a.move_relative(-1),
c>e&&a.get_current_frame()<a.get_length()-1&&a.move_relative(1),g=d.timeStamp,e=f(b.pageX));l++;document.getElementById("tickles"+(l%5+1))&&document.getElementById("tickles"+(l%5+1)).play()})};a.orig_load=a.load;a.load=function(b){a.orig_load(function(){b&&b();m(a)})};return a}});