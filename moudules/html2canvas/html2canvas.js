!function(P){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=P();else if("function"==typeof define&&define.amd)define([],P);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.html2canvas=P()}}(function(){return function f(m,l,a){function k(d,b){if(!l[d]){if(!m[d]){var c="function"==typeof require&&require;if(!b&&c)return c(d,!0);if(e)return e(d,!0);c=Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",
c;}c=l[d]={exports:{}};m[d][0].call(c.exports,function(a){var c=m[d][1][a];return k(c?c:a)},c,c.exports,f,m,l,a)}return l[d].exports}for(var e="function"==typeof require&&require,g=0;g<a.length;g++)k(a[g]);return k}({1:[function(f,m,l){(function(a,f){(function(){function e(a){return"function"===typeof a}function g(){return function(){a.nextTick(n)}}function d(){var a=0,h=new A(n),c=document.createTextNode("");h.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function b(){var a=new MessageChannel;
a.port1.onmessage=n;return function(){a.port2.postMessage(0)}}function c(){return function(){setTimeout(n,1)}}function n(){for(var a=0;a<F;a+=2)(0,B[a])(B[a+1]),B[a]=void 0,B[a+1]=void 0;F=0}function p(){}function h(a,h,c,b){try{a.call(h,c,b)}catch(d){return d}}function r(a,c,b){G(function(a){var d=!1,e=h(b,c,function(h){d||(d=!0,c!==h?t(a,h):x(a,h))},function(h){d||(d=!0,l(a,h))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,l(a,e))},a)}function q(a,h){1===h._state?x(a,h._result):2===a._state?
l(a,h._result):y(h,void 0,function(h){t(a,h)},function(h){l(a,h)})}function t(a,h){if(a===h)l(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof h||"object"===typeof h&&null!==h)if(h.constructor===a.constructor)q(a,h);else{var c;try{c=h.then}catch(b){K.error=b,c=K}c===K?l(a,K.error):void 0===c?x(a,h):e(c)?r(a,h,c):x(a,h)}else x(a,h)}function u(a){a._onerror&&a._onerror(a._result);w(a)}function x(a,h){void 0===a._state&&(a._result=h,a._state=1,0!==a._subscribers.length&&
G(w,a))}function l(a,h){void 0===a._state&&(a._state=2,a._result=h,G(u,a))}function y(a,h,c,b){var d=a._subscribers,e=d.length;a._onerror=null;d[e]=h;d[e+1]=c;d[e+2]=b;0===e&&a._state&&G(w,a)}function w(a){var h=a._subscribers,c=a._state;if(0!==h.length){for(var b,d,e=a._result,t=0;t<h.length;t+=3)b=h[t],d=h[t+c],b?v(c,b,d,e):d(e);a._subscribers.length=0}}function z(){this.error=null}function v(a,h,c,b){var d=e(c),g,n,f,T;if(d){try{g=c(b)}catch(Y){H.error=Y,g=H}g===H?(T=!0,n=g.error,g=null):f=!0;
if(h===g){l(h,new TypeError("A promises callback cannot return that same promise."));return}}else g=b,f=!0;void 0===h._state&&(d&&f?t(h,g):T?l(h,n):1===a?x(h,g):2===a&&l(h,g))}function E(a,h){try{h(function(h){t(a,h)},function(h){l(a,h)})}catch(c){l(a,c)}}function C(a,h,c,b){this._instanceConstructor=a;this.promise=new a(p,b);this._abortOnReject=c;this._validateInput(h)?(this._input=h,this._remaining=this.length=h.length,this._init(),0===this.length?x(this.promise,this._result):(this.length=this.length||
0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):l(this.promise,this._validationError())}function D(a){this._id=R++;this._result=this._state=void 0;this._subscribers=[];if(p!==a){if(!e(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof D))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");E(this,a)}}var O=Array.isArray?
Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},F=0,G=function(a,h){B[F]=a;B[F+1]=h;F+=2;2===F&&L()},I="undefined"!==typeof window?window:{},A=I.MutationObserver||I.WebKitMutationObserver,I="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,B=Array(1E3),L;L="undefined"!==typeof a&&"[object process]"==={}.toString.call(a)?g():A?d():I?b():c();var K=new z,H=new z;C.prototype._validateInput=function(a){return O(a)};
C.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};C.prototype._init=function(){this._result=Array(this.length)};C.prototype._enumerate=function(){for(var a=this.length,h=this.promise,c=this._input,b=0;void 0===h._state&&b<a;b++)this._eachEntry(c[b],b)};C.prototype._eachEntry=function(a,h){var c=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===c&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,h,a._result)):this._willSettleAt(c.resolve(a),
h):(this._remaining--,this._result[h]=this._makeResult(1,h,a))};C.prototype._settledAt=function(a,h,c){var b=this.promise;void 0===b._state&&(this._remaining--,this._abortOnReject&&2===a?l(b,c):this._result[h]=this._makeResult(a,h,c));0===this._remaining&&x(b,this._result)};C.prototype._makeResult=function(a,h,c){return c};C.prototype._willSettleAt=function(a,h){var c=this;y(a,void 0,function(a){c._settledAt(1,h,a)},function(a){c._settledAt(2,h,a)})};var R=0;D.all=function(a,h){return(new C(this,
a,!0,h)).promise};D.race=function(a,h){function c(a){t(d,a)}function b(a){l(d,a)}var d=new this(p,h);if(!O(a))return l(d,new TypeError("You must pass an array to race.")),d;for(var e=a.length,g=0;void 0===d._state&&g<e;g++)y(this.resolve(a[g]),void 0,c,b);return d};D.resolve=function(a,h){if(a&&"object"===typeof a&&a.constructor===this)return a;var c=new this(p,h);t(c,a);return c};D.reject=function(a,h){var c=new this(p,h);l(c,a);return c};D.prototype={constructor:D,then:function(a,h){var c=this._state;
if(1===c&&!a||2===c&&!h)return this;var b=new this.constructor(p),d=this._result;if(c){var e=arguments[c-1];G(function(){v(c,b,e,d)})}else y(this,b,a,h);return b},"catch":function(a){return this.then(null,a)}};I={Promise:D,polyfill:function(){var a;a="undefined"!==typeof f?f:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var h;new a.Promise(function(a){h=a});return e(h)}()||(a.Promise=
D)}};"undefined"!==typeof m&&m.exports?m.exports=I:"undefined"!==typeof this&&(this.ES6Promise=I)}).call(this)}).call(this,f("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:2}],2:[function(f,m,l){function a(){if(!g){g=!0;for(var a,b=e.length;b;){a=e;e=[];for(var c=-1;++c<b;)a[c]();b=e.length}g=!1}}function k(){}f=m.exports={};var e=[],g=!1;f.nextTick=function(d){e.push(d);g||setTimeout(a,0)};f.title="browser";f.browser=
!0;f.env={};f.argv=[];f.version="";f.on=k;f.addListener=k;f.once=k;f.off=k;f.removeListener=k;f.removeAllListeners=k;f.emit=k;f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(a){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},{}],3:[function(f,m,l){(function(a){(function(f){function e(a){throw RangeError(w[a]);}function g(a,h){for(var c=a.length;c--;)a[c]=h(a[c]);return a}function d(a,h){return g(a.split(y),
h).join(".")}function b(a){for(var h=[],c=0,b=a.length,d,e;c<b;)d=a.charCodeAt(c++),55296<=d&&56319>=d&&c<b?(e=a.charCodeAt(c++),56320==(e&64512)?h.push(((d&1023)<<10)+(e&1023)+65536):(h.push(d),c--)):h.push(d);return h}function c(a){return g(a,function(a){var h="";65535<a&&(a-=65536,h+=v(a>>>10&1023|55296),a=56320|a&1023);return h+=v(a)}).join("")}function n(a,h){return a+22+75*(26>a)-((0!=h)<<5)}function p(a,h,c){var b=0;a=c?z(a/700):a>>1;for(a+=z(a/h);455<a;b+=36)a=z(a/35);return z(b+36*a/(a+38))}
function h(a){var h=[],b=a.length,d,g=0,t=128,f=72,n,k,q,v,r;n=a.lastIndexOf("-");0>n&&(n=0);for(k=0;k<n;++k)128<=a.charCodeAt(k)&&e("not-basic"),h.push(a.charCodeAt(k));for(n=0<n?n+1:0;n<b;){k=g;d=1;for(q=36;;q+=36){n>=b&&e("invalid-input");v=a.charCodeAt(n++);v=10>v-48?v-22:26>v-65?v-65:26>v-97?v-97:36;(36<=v||v>z((2147483647-g)/d))&&e("overflow");g+=v*d;r=q<=f?1:q>=f+26?26:q-f;if(v<r)break;v=36-r;d>z(2147483647/v)&&e("overflow");d*=v}d=h.length+1;f=p(g-k,d,0==k);z(g/d)>2147483647-t&&e("overflow");
t+=z(g/d);g%=d;h.splice(g++,0,t)}return c(h)}function r(a){var h,c,d,g,t,f,k,q,r,u=[],m,l,x;a=b(a);m=a.length;h=128;c=0;t=72;for(f=0;f<m;++f)r=a[f],128>r&&u.push(v(r));for((d=g=u.length)&&u.push("-");d<m;){k=2147483647;for(f=0;f<m;++f)r=a[f],r>=h&&r<k&&(k=r);l=d+1;k-h>z((2147483647-c)/l)&&e("overflow");c+=(k-h)*l;h=k;for(f=0;f<m;++f)if(r=a[f],r<h&&2147483647<++c&&e("overflow"),r==h){q=c;for(k=36;;k+=36){r=k<=t?1:k>=t+26?26:k-t;if(q<r)break;x=q-r;q=36-r;u.push(v(n(r+x%q,0)));q=z(x/q)}u.push(v(n(q,
0)));t=p(c,l,d==g);c=0;++d}++c;++h}return u.join("")}var q="object"==typeof l&&l,t="object"==typeof m&&m&&m.exports==q&&m,u="object"==typeof a&&a;if(u.global===u||u.window===u)f=u;var x=/^xn--/,M=/[^ -~]/,y=/\x2E|\u3002|\uFF0E|\uFF61/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=Math.floor,v=String.fromCharCode,E,u={version:"1.2.4",ucs2:{decode:b,encode:c},decode:h,encode:r,toASCII:function(a){return d(a,
function(a){return M.test(a)?"xn--"+r(a):a})},toUnicode:function(a){return d(a,function(a){return x.test(a)?h(a.slice(4).toLowerCase()):a})}};if(q&&!q.nodeType)if(t)t.exports=u;else for(E in u)u.hasOwnProperty(E)&&(q[E]=u[E]);else f.punycode=u})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],4:[function(f,m,l){function a(a,c,d){a=a.getElementsByTagName(d);c=c.getElementsByTagName(d);d=a.length;for(var b=0;b<d;b++)c[b].value=
a[b].value}function k(a){[].slice.call(a.querySelectorAll("canvas"),0).forEach(function(a){a.setAttribute("data-html2canvas-canvas-clone","canvas-"+p++)})}function e(a,d){[].slice.call(a.querySelectorAll("[data-html2canvas-canvas-clone]"),0).forEach(function(a){try{var h=d.querySelector('[data-html2canvas-canvas-clone="'+a.getAttribute("data-html2canvas-canvas-clone")+'"]');h&&(h.width=a.width,h.height=a.height,h.getContext("2d").putImageData(a.getContext("2d").getImageData(0,0,a.width,a.height),
0,0))}catch(b){c("Unable to copy canvas content from",a,b)}a.removeAttribute("data-html2canvas-canvas-clone")})}function g(a){[].slice.call(a.childNodes,0).filter(b).forEach(function(c){"SCRIPT"===c.tagName?a.removeChild(c):g(c)});return a}function d(a,c){for(var b=3===a.nodeType?document.createTextNode(a.nodeValue):a.cloneNode(!1),e=a.firstChild;e;)!0!==c&&1===e.nodeType&&"SCRIPT"===e.nodeName||b.appendChild(d(e,c)),e=e.nextSibling;return b}function b(a){return a.nodeType===Node.ELEMENT_NODE}var c=
f("./log"),n=f("./promise"),p=0;m.exports=function(h,c,b,f,p,m,l){k(h);var y=document.documentMode&&9>=document.documentMode?d(h.documentElement,p.javascriptEnabled):h.documentElement.cloneNode(!0),w=c.createElement("iframe");w.className="html2canvas-container";w.style.visibility="hidden";w.style.position="fixed";w.style.left="-10000px";w.style.top="0px";w.style.border="0";w.width=b;w.height=f;w.scrolling="no";c.body.appendChild(w);return new n(function(c){var b=w.contentWindow.document;a(h.documentElement,
y,"textarea");a(h.documentElement,y,"select");w.contentWindow.onload=w.onload=function(){var a=setInterval(function(){0<b.body.childNodes.length&&(e(h,b),clearInterval(a),"view"===p.type&&w.contentWindow.scrollTo(m,l),c(w))},50)};b.open();b.write("<!DOCTYPE html><html></html>");!h.defaultView||m===h.defaultView.pageXOffset&&l===h.defaultView.pageYOffset||h.defaultView.scrollTo(m,l);b.replaceChild(!0===p.javascriptEnabled?b.adoptNode(y):g(b.adoptNode(y)),b.documentElement);b.close()})}},{"./log":15,
"./promise":18}],5:[function(f,m,l){function a(a){this.b=this.g=this.r=0;this.a=null;this.fromArray(a)||this.namedColor(a)||this.rgb(a)||this.rgba(a)||this.hex6(a)||this.hex3(a)}a.prototype.darken=function(c){c=1-c;return new a([Math.round(this.r*c),Math.round(this.g*c),Math.round(this.b*c),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(a){Array.isArray(a)&&(this.r=Math.min(a[0],
255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),3<a.length&&(this.a=a[3]));return Array.isArray(a)};var k=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(a){var b=null;null!==(b=a.match(k))&&(this.r=parseInt(b[1][0]+b[1][0],16),this.g=parseInt(b[1][1]+b[1][1],16),this.b=parseInt(b[1][2]+b[1][2],16));return null!==b};var e=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(a){var b=null;null!==(b=a.match(e))&&(this.r=parseInt(b[1].substring(0,2),16),this.g=parseInt(b[1].substring(2,4),16),this.b=
parseInt(b[1].substring(4,6),16));return null!==b};var g=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;a.prototype.rgb=function(a){var b=null;null!==(b=a.match(g))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]));return null!==b};var d=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;a.prototype.rgba=function(a){var b=null;null!==(b=a.match(d))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]),this.a=Number(b[4]));return null!==b};a.prototype.toString=
function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+")"};a.prototype.namedColor=function(a){var d=b[a.toLowerCase()];if(d)this.r=d[0],this.g=d[1],this.b=d[2];else if("transparent"===a.toLowerCase())return this.r=this.g=this.b=this.a=0,!0;return!!d};a.prototype.isColor=!0;var b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,
228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,
107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],
gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],
pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,
128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};m.exports=a},{}],6:[function(f,m,l){function a(a,b){var d=w++;b=b||{};b.logging&&(window.html2canvas.logging=!0,window.html2canvas.start=Date.now());b.async="undefined"===typeof b.async?!0:b.async;b.allowTaint="undefined"===typeof b.allowTaint?!1:b.allowTaint;b.removeContainer="undefined"===typeof b.removeContainer?
!0:b.removeContainer;b.javascriptEnabled="undefined"===typeof b.javascriptEnabled?!1:b.javascriptEnabled;b.imageTimeout="undefined"===typeof b.imageTimeout?1E4:b.imageTimeout;b.renderer="function"===typeof b.renderer?b.renderer:h;b.strict=!!b.strict;if("string"===typeof a){if("string"!==typeof b.proxy)return n.reject("Proxy must be used when rendering url");var g=null!=b.width?b.width:window.innerWidth,f=null!=b.height?b.height:window.innerHeight;return M(c(a),b.proxy,document,g,f,b).then(function(a){return e(a.contentWindow.document.documentElement,
a,b,g,f)})}var q=(void 0===a?[document.documentElement]:a.length?a:[a])[0];q.setAttribute("data-html2canvas-node"+d,d);return k(q.ownerDocument,b,q.ownerDocument.defaultView.innerWidth,q.ownerDocument.defaultView.innerHeight,d).then(function(a){"function"===typeof b.onrendered&&(t("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),b.onrendered(a));return a})}function k(a,b,h,c,d){return x(a,a,h,c,b,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(g){t("Document cloned");
var f="data-html2canvas-node"+d,k="["+f+"='"+d+"']";a.querySelector(k).removeAttribute(f);var f=g.contentWindow,q=f.document.querySelector(k);return("function"===typeof b.onclone?n.resolve(b.onclone(f.document)):n.resolve(!0)).then(function(){return e(q,g,b,h,c)})})}function e(a,h,c,e,f){var k=h.contentWindow,n=new p(k.document),m=new r(c,n),l=y(a);e="view"===c.type?e:d(k.document);f="view"===c.type?f:b(k.document);var u=new c.renderer(e,f,m,c,document);return(new q(a,u,n,m,c)).ready.then(function(){t("Finished rendering");
var b;b="view"===c.type?g(u.canvas,{width:u.canvas.width,height:u.canvas.height,top:0,left:0,x:0,y:0}):a===k.document.body||a===k.document.documentElement||null!=c.canvas?u.canvas:g(u.canvas,{width:null!=c.width?c.width:l.width,height:null!=c.height?c.height:l.height,top:l.top,left:l.left,x:k.pageXOffset,y:k.pageYOffset});c.removeContainer&&(h.parentNode.removeChild(h),t("Cleaned up container"));return b})}function g(a,b){var h=document.createElement("canvas"),c=Math.min(a.width-1,Math.max(0,b.left)),
d=Math.min(a.width,Math.max(1,b.left+b.width)),e=Math.min(a.height-1,Math.max(0,b.top)),g=Math.min(a.height,Math.max(1,b.top+b.height));h.width=b.width;h.height=b.height;t("Cropping canvas at:","left:",b.left,"top:",b.top,"width:",d-c,"height:",g-e);t("Resulting crop with width",b.width,"and height",b.height," with x",c,"and y",e);h.getContext("2d").drawImage(a,c,e,d-c,g-e,b.x,b.y,d-c,g-e);return h}function d(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,
a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}function b(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function c(a){var b=document.createElement("a");b.href=a;b.href=b.href;return b}var n=f("./promise"),p=f("./support"),h=f("./renderers/canvas"),r=f("./imageloader"),q=f("./nodeparser");l=f("./nodecontainer");
var t=f("./log"),u=f("./utils"),x=f("./clone"),M=f("./proxy").loadUrlDocument,y=u.getBounds,w=0;a.Promise=n;a.CanvasRenderer=h;a.NodeContainer=l;a.log=t;a.utils=u;m.exports="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return n.reject("No canvas support")}:a},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,
"./utils":29}],7:[function(f,m,l){function a(d){this.src=d;e("DummyImageContainer for",d);if(!this.promise||!this.image){e("Initiating DummyImageContainer");a.prototype.image=new Image;var b=this.image;a.prototype.promise=new k(function(a,d){b.onload=a;b.onerror=d;b.src=g();!0===b.complete&&a(b)})}}var k=f("./promise"),e=f("./log"),g=f("./utils").smallImage;m.exports=a},{"./log":15,"./promise":18,"./utils":29}],8:[function(f,m,l){var a=f("./utils").smallImage;m.exports=function(f,e){var g=document.createElement("div"),
d=document.createElement("img"),b=document.createElement("span"),c;g.style.visibility="hidden";g.style.fontFamily=f;g.style.fontSize=e;g.style.margin=0;g.style.padding=0;document.body.appendChild(g);d.src=a();d.width=1;d.height=1;d.style.margin=0;d.style.padding=0;d.style.verticalAlign="baseline";b.style.fontFamily=f;b.style.fontSize=e;b.style.margin=0;b.style.padding=0;b.appendChild(document.createTextNode("Hidden Text"));g.appendChild(b);g.appendChild(d);c=d.offsetTop-b.offsetTop+1;g.removeChild(b);
g.appendChild(document.createTextNode("Hidden Text"));g.style.lineHeight="normal";d.style.verticalAlign="super";d=d.offsetTop-g.offsetTop+1;document.body.removeChild(g);this.baseline=c;this.lineWidth=1;this.middle=d}},{"./utils":29}],9:[function(f,m,l){function a(){this.data={}}var k=f("./font");a.prototype.getMetrics=function(a,g){void 0===this.data[a+"-"+g]&&(this.data[a+"-"+g]=new k(a,g));return this.data[a+"-"+g]};m.exports=a},{"./font":8}],10:[function(f,m,l){function a(a,b,c){this.image=null;
this.src=a;var g=this,p=e(a);this.promise=(b?new k(function(b){"about:blank"===a.contentWindow.document.URL||null==a.contentWindow.document.documentElement?a.contentWindow.onload=a.onload=function(){b(a)}:b(a)}):this.proxyLoad(c.proxy,p,c)).then(function(a){return f("./core")(a.contentWindow.document.documentElement,{type:"view",width:a.width,height:a.height,proxy:c.proxy,javascriptEnabled:c.javascriptEnabled,removeContainer:c.removeContainer,allowTaint:c.allowTaint,imageTimeout:c.imageTimeout/2})}).then(function(a){return g.image=
a})}l=f("./utils");var k=f("./promise"),e=l.getBounds,g=f("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(a,b,c){var e=this.src;return g(e.src,a,e.ownerDocument,b.width,b.height,c)};m.exports=a},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(f,m,l){function a(a){this.src=a.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=k.resolve(!0)}var k=f("./promise");a.prototype.TYPES={LINEAR:1,RADIAL:2};m.exports=a},{"./promise":18}],12:[function(f,
m,l){var a=f("./promise");m.exports=function(f,e){this.src=f;this.image=new Image;var g=this;this.tainted=null;this.promise=new a(function(a,b){g.image.onload=a;g.image.onerror=b;e&&(g.image.crossOrigin="anonymous");g.image.src=f;!0===g.image.complete&&a(g.image)})}},{"./promise":18}],13:[function(f,m,l){function a(a,b){this.link=null;this.options=a;this.support=b;this.origin=this.getOrigin(window.location.href)}var k=f("./promise"),e=f("./log"),g=f("./imagecontainer"),d=f("./dummyimagecontainer"),
b=f("./proxyimagecontainer"),c=f("./framecontainer"),n=f("./svgcontainer"),p=f("./svgnodecontainer"),h=f("./lineargradientcontainer"),r=f("./webkitgradientcontainer"),q=f("./utils").bind;a.prototype.findImages=function(a){var b=[];a.reduce(function(a,b){switch(b.node.nodeName){case "IMG":return a.concat([{args:[b.node.src],method:"url"}]);case "svg":case "IFRAME":return a.concat([{args:[b.node],method:b.node.nodeName}])}return a},[]).forEach(this.addImage(b,this.loadImage),this);return b};a.prototype.findBackgroundImage=
function(a,b){b.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage),this);return a};a.prototype.addImage=function(a,b){return function(h){h.args.forEach(function(c){this.imageExists(a,c)||(a.splice(0,0,b.call(this,h)),e("Added image #"+a.length,"string"===typeof c?c.substring(0,100):c))},this)}};a.prototype.hasImageBackground=function(a){return"none"!==a.method};a.prototype.loadImage=function(a){return"url"===a.method?(a=a.args[0],!this.isSVG(a)||this.support.svg||
this.options.allowTaint?a.match(/data:image\/.*;base64,/i)?new g(a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(a)||!0===this.options.allowTaint||this.isSVG(a)?new g(a,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new g(a,!0):this.options.proxy?new b(a,this.options.proxy):new d(a):new n(a)):"linear-gradient"===a.method?new h(a):"gradient"===a.method?new r(a):"svg"===a.method?new p(a.args[0],this.support.svg):"IFRAME"===a.method?new c(a.args[0],this.isSameOrigin(a.args[0].src),
this.options):new d(a)};a.prototype.isSVG=function(a){return"svg"===a.substring(a.length-3).toLowerCase()||n.prototype.isInline(a)};a.prototype.imageExists=function(a,b){return a.some(function(a){return a.src===b})};a.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin};a.prototype.getOrigin=function(a){var b=this.link||(this.link=document.createElement("a"));b.href=a;b.href=b.href;return b.protocol+b.hostname+b.port};a.prototype.getPromise=function(a){return this.timeout(a,
this.options.imageTimeout)["catch"](function(){return(new d(a.src)).promise.then(function(b){a.image=b})})};a.prototype.get=function(a){var b=null;return this.images.some(function(h){return(b=h).src===a})?b:null};a.prototype.fetch=function(a){this.images=a.reduce(q(this.findBackgroundImage,this),this.findImages(a));this.images.forEach(function(a,b){a.promise.then(function(){e("Succesfully loaded image #"+(b+1),a)},function(h){e("Failed loading image #"+(b+1),a,h)})});this.ready=k.all(this.images.map(this.getPromise,
this));e("Finished searching images");return this};a.prototype.timeout=function(a,b){var h,c=k.race([a.promise,new k(function(c,d){h=setTimeout(function(){e("Timed out loading image",a);d(a)},b)})]).then(function(a){clearTimeout(h);return a});c["catch"](function(){clearTimeout(h)});return c};m.exports=a},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,
"./utils":29,"./webkitgradientcontainer":30}],14:[function(f,m,l){function a(a){k.apply(this,arguments);this.type=this.TYPES.LINEAR;var d=null===a.args[0].match(this.stepRegExp);d?a.args[0].split(" ").reverse().forEach(function(a){switch(a){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":a=this.y0;var c=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=c;this.y1=a}},this):(this.y0=0,this.y1=
1);this.colorStops=a.args.slice(d?1:0).map(function(a){a=a.match(this.stepRegExp);return{color:new e(a[1]),stop:"%"===a[3]?a[2]/100:null}},this);null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(a,c){null===a.stop&&this.colorStops.slice(c).some(function(d,e){return null!==d.stop?(a.stop=(d.stop-this.colorStops[c-1].stop)/(e+1)+this.colorStops[c-1].stop,
!0):!1},this)},this)}var k=f("./gradientcontainer"),e=f("./color");a.prototype=Object.create(k.prototype);a.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/;m.exports=a},{"./color":5,"./gradientcontainer":11}],15:[function(f,m,l){m.exports=function(){window.html2canvas.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-window.html2canvas.start+"ms","html2canvas:"].concat([].slice.call(arguments,
0)))}},{}],16:[function(f,m,l){function a(a,b){this.node=a;this.parent=b;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function k(a){if(a&&"matrix"===a[1])return a[2].split(",").map(function(a){return parseFloat(a.trim())})}function e(a){return-1!==a.toString().indexOf("%")}
function g(a){return a.replace("px","")}function d(a){return parseFloat(a)}var b=f("./color");f=f("./utils");var c=f.getBounds,n=f.parseBackgrounds,p=f.offsetBounds;a.prototype.cloneTo=function(a){a.visible=this.visible;a.borders=this.borders;a.bounds=this.bounds;a.clip=this.clip;a.backgroundClip=this.backgroundClip;a.computedStyles=this.computedStyles;a.styles=this.styles;a.backgroundImages=this.backgroundImages;a.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?
this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(a){this.stack=a;a.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(a){this.computedStyles||(this.computedStyles=this.isPseudoElement?
this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[a]||(this.styles[a]=this.computedStyles[a])};a.prototype.prefixedCss=function(a){var b=["webkit","moz","ms","o"],c=this.css(a);void 0===c&&b.some(function(b){c=this.css(b+a.substr(0,1).toUpperCase()+a.substr(1));return void 0!==c},this);return void 0===c?null:c};a.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)};a.prototype.cssInt=function(a){a=
parseInt(this.css(a),10);return isNaN(a)?0:a};a.prototype.color=function(a){return this.colors[a]||(this.colors[a]=new b(this.css(a)))};a.prototype.cssFloat=function(a){a=parseFloat(this.css(a));return isNaN(a)?0:a};a.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}return a};a.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],
10),left:parseInt(a[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=n(this.css("backgroundImage")))};a.prototype.cssList=function(a,b){var c=(this.css(a)||"").split(","),c=c[b||0]||c[0]||"auto",c=c.trim().split(" ");1===c.length&&(c=[c[0],e(c[0])?"auto":c[0]]);return c};a.prototype.parseBackgroundSize=function(a,b,c){c=this.cssList("backgroundSize",c);var d;if(e(c[0]))d=a.width*parseFloat(c[0])/100;else{if(/contain|cover/.test(c[0]))return b=
b.width/b.height,a.width/a.height<b^"contain"===c[0]?{width:a.height*b,height:a.height}:{width:a.width,height:a.width/b};d=parseInt(c[0],10)}a="auto"===c[0]&&"auto"===c[1]?b.height:"auto"===c[1]?d/b.width*b.height:e(c[1])?a.height*parseFloat(c[1])/100:parseInt(c[1],10);"auto"===c[0]&&(d=a/b.height*b.width);return{width:d,height:a}};a.prototype.parseBackgroundPosition=function(a,b,c,d){c=this.cssList("backgroundPosition",c);var g;g=e(c[0])?(a.width-(d||b).width)*(parseFloat(c[0])/100):parseInt(c[0],
10);a="auto"===c[1]?g/b.width*b.height:e(c[1])?(a.height-(d||b).height)*parseFloat(c[1])/100:parseInt(c[1],10);"auto"===c[0]&&(g=a/b.height*b.width);return{left:g,top:a}};a.prototype.parseBackgroundRepeat=function(a){return this.cssList("backgroundRepeat",a)[0]};a.prototype.parseTextShadows=function(){var a=this.css("textShadow"),c=[];if(a&&"none"!==a)for(var a=a.match(this.TEXT_SHADOW_PROPERTY),d=0;a&&d<a.length;d++){var e=a[d].match(this.TEXT_SHADOW_VALUES);c.push({color:new b(e[0]),offsetX:e[1]?
parseFloat(e[1].replace("px","")):0,offsetY:e[2]?parseFloat(e[2].replace("px","")):0,blur:e[3]?e[3].replace("px",""):0})}return c};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),b=this.prefixedCss("transformOrigin").split(" ").map(g).map(d);b[0]+=a.left;b[1]+=a.top;this.transformData={origin:b,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=
function(){if(!this.transformMatrix){var a=this.prefixedCss("transform");this.transformMatrix=(a=a?k(a.match(this.MATRIX_PROPERTY)):null)?a:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):c(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()};a.prototype.getValue=function(){var a=this.node.value||"";"SELECT"===
this.node.tagName?(a=this.node,a=(a=a.options[a.selectedIndex||0])?a.text||"":""):"password"===this.node.type&&(a=Array(a.length+1).join("\u2022"));return 0===a.length?this.node.placeholder||"":a};a.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;m.exports=a},{"./color":5,"./utils":29}],
17:[function(f,m,l){function a(a,b,c,d,e){A("Starting NodeParser");this.renderer=b;this.options=e;this.range=null;this.support=c;this.renderQueue=[];this.stack=new N(!0,1,a.ownerDocument,null);c=new L(a,null);e.background&&b.rectangle(0,0,b.width,b.height,new J(e.background));if(a===a.ownerDocument.documentElement){var h=new L(c.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,null);b.rectangle(0,0,b.width,b.height,h.color("backgroundColor"))}c.visibile=
c.isElementVisible();this.createPseudoHideStyles(a.ownerDocument);this.disableAnimations(a.ownerDocument);this.nodes=G([c].concat(this.getChildren(c)).filter(function(a){return a.visible=a.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new R;A("Fetched nodes, total:",this.nodes.length);A("Calculate overflow clips");this.calculateOverflowClips();A("Start fetching images");this.images=d.fetch(this.nodes.filter(v));this.ready=this.images.ready.then(Q(function(){A("Images loaded, starting parsing");
A("Creating stacking contexts");this.createStackingContexts();A("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);A("Render queue created with "+this.renderQueue.length+" items");return new U(Q(function(a){e.async?"function"===typeof e.async?e.async.call(this,this.renderQueue,a):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,a)):a():(this.renderQueue.forEach(this.paint,this),a())},this))},this))}function k(a){return a.replace(/(\-[a-z])/g,
function(a){return a.toUpperCase().replace("-","")})}function e(){}function g(a,b,c,d){return a.map(function(e,h){if(0<e.width){var g=b.left,f=b.top,k=b.width,p=b.height-a[2].width;switch(h){case 0:p=a[0].width;e.args=n({c1:[g,f],c2:[g+k,f],c3:[g+k-a[1].width,f+p],c4:[g+a[3].width,f+p]},d[0],d[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:g=b.left+b.width-a[1].width;k=a[1].width;e.args=n({c1:[g+k,f],c2:[g+k,f+p+a[2].width],c3:[g,f+p],c4:[g,f+a[0].width]},d[1],d[2],
c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:f=f+b.height-a[2].width;p=a[2].width;e.args=n({c1:[g+k,f+p],c2:[g,f+p],c3:[g+a[3].width,f],c4:[g+k-a[3].width,f]},d[2],d[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:k=a[3].width,e.args=n({c1:[g,f+p+a[2].width],c2:[g,f],c3:[g+k,f+a[0].width],c4:[g+k,f+p]},d[3],d[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return e})}function d(a,b,d,e){var g=
4*((Math.sqrt(2)-1)/3),h=d*g,g=e*g;d=a+d;e=b+e;return{topLeft:c({x:a,y:e},{x:a,y:e-g},{x:d-h,y:b},{x:d,y:b}),topRight:c({x:a,y:b},{x:a+h,y:b},{x:d,y:e-g},{x:d,y:e}),bottomRight:c({x:d,y:b},{x:d,y:b+g},{x:a+h,y:e},{x:a,y:e}),bottomLeft:c({x:d,y:e},{x:d-h,y:e},{x:a,y:b+g},{x:a,y:b})}}function b(a,b,c){var e=a.left,g=a.top,h=a.width;a=a.height;var f=b[0][0],k=b[0][1],n=b[1][0],p=b[1][1],m=b[2][0],l=b[2][1],t=b[3][0];b=b[3][1];var q=h-n,r=a-l,u=h-m,x=a-b;return{topLeftOuter:d(e,g,f,k).topLeft.subdivide(.5),
topLeftInner:d(e+c[3].width,g+c[0].width,Math.max(0,f-c[3].width),Math.max(0,k-c[0].width)).topLeft.subdivide(.5),topRightOuter:d(e+q,g,n,p).topRight.subdivide(.5),topRightInner:d(e+Math.min(q,h+c[3].width),g+c[0].width,q>h+c[3].width?0:n-c[3].width,p-c[0].width).topRight.subdivide(.5),bottomRightOuter:d(e+u,g+r,m,l).bottomRight.subdivide(.5),bottomRightInner:d(e+Math.min(u,h-c[3].width),g+Math.min(r,a+c[0].width),Math.max(0,m-c[1].width),l-c[2].width).bottomRight.subdivide(.5),bottomLeftOuter:d(e,
g+x,t,b).bottomLeft.subdivide(.5),bottomLeftInner:d(e+c[3].width,g+x,Math.max(0,t-c[3].width),b-c[2].width).bottomLeft.subdivide(.5)}}function c(a,b,d,e){var g=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:d,end:e,subdivide:function(h){var f=g(a,b,h),k=g(b,d,h),n=g(d,e,h),p=g(f,k,h),k=g(k,n,h);h=g(p,k,h);return[c(a,f,p,h),c(h,k,n,e)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,d.x,d.y,e.x,e.y])},curveToReversed:function(c){c.push(["bezierCurve",
d.x,d.y,b.x,b.y,a.x,a.y])}}}function n(a,b,c,d,e,g,h){var f=[];0<b[0]||0<b[1]?(f.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(f)):f.push(["line",a.c1[0],a.c1[1]]);0<c[0]||0<c[1]?(f.push(["line",g[0].start.x,g[0].start.y]),g[0].curveTo(f),f.push(["line",h[0].end.x,h[0].end.y]),h[0].curveToReversed(f)):(f.push(["line",a.c2[0],a.c2[1]]),f.push(["line",a.c3[0],a.c3[1]]));0<b[0]||0<b[1]?(f.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(f)):f.push(["line",a.c4[0],a.c4[1]]);return f}
function p(a,b,c,d,e,g,h){0<b[0]||0<b[1]?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",g,h]);(0<c[0]||0<c[1])&&a.push(["line",e[0].start.x,e[0].start.y])}function h(a){return 0>a.cssInt("zIndex")}function r(a){return 0<a.cssInt("zIndex")}function q(a){return 0===a.cssInt("zIndex")}function t(a){return-1!==["inline","inline-block","inline-table"].indexOf(a.css("display"))}function u(a){return 0<a.node.data.trim().length}function x(a){return["TopLeft","TopRight",
"BottomRight","BottomLeft"].map(function(b){b=a.css("border"+b+"Radius").split(" ");1>=b.length&&(b[1]=b[0]);return b.map(D)})}function M(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function y(a){return"static"!==a.css("position")}function w(a){return"none"!==a.css("float")}function z(a){var b=this;return function(){return!a.apply(b,arguments)}}function v(a){return a.node.nodeType===Node.ELEMENT_NODE}function E(a){return a.node.nodeType===Node.TEXT_NODE}function C(a){return function(b,
c){return b.cssInt("zIndex")+a.indexOf(b)/a.length-(c.cssInt("zIndex")+a.indexOf(c)/a.length)}}function D(a){return parseInt(a,10)}function O(a){return a.width}function F(a){return a.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(a.node.nodeName)}function G(a){return[].concat.apply([],a)}function I(a){for(var b=[],c=0,d=!1,e;a.length;)-1!==[32,13,10,9,45].indexOf(a[c])===d?(e=a.splice(0,c),e.length&&b.push(B.ucs2.encode(e)),d=!d,c=0):c++,c>=a.length&&
(e=a.splice(0,c),e.length&&b.push(B.ucs2.encode(e)));return b}var A=f("./log"),B=f("punycode"),L=f("./nodecontainer"),K=f("./textcontainer"),H=f("./pseudoelementcontainer"),R=f("./fontmetrics"),J=f("./color"),U=f("./promise"),N=f("./stackingcontext");f=f("./utils");var Q=f.bind,V=f.getBounds,X=f.parseBackgrounds,W=f.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(a){if(v(a)){!0===a.isPseudoElement&&a.appendToDOM();a.borders=this.parseBorders(a);var b="hidden"===
a.css("overflow")?[a.borders.clip]:[],c=a.parseClip();c&&-1!==["absolute","fixed"].indexOf(a.css("position"))&&b.push([["rect",a.bounds.left+c.left,a.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]);a.clip=a.parent&&a.parent.clip.length?a.parent.clip.concat(b):b;a.backgroundClip="hidden"!==a.css("overflow")?a.clip.concat([a.borders.clip]):a.clip;!0===a.isPseudoElement&&a.cleanDOM()}else E(a)&&(a.clip=a.parent&&a.parent.clip.length?a.parent.clip:[]);!0!==a.isPseudoElement&&(a.bounds=null)},this)};
a.prototype.asyncRenderer=function(a,b,c){c=c||Date.now();this.paint(a[this.renderIndex++]);a.length===this.renderIndex?b():c+20>Date.now()?this.asyncRenderer(a,b,c):setTimeout(Q(function(){this.asyncRenderer(a,b)},this),0)};a.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};
a.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};a.prototype.createStyles=function(a,b){var c=a.createElement("style");c.innerHTML=b;a.body.appendChild(c)};a.prototype.getPseudoElements=function(a){var b=[[a]];if(a.node.nodeType===
Node.ELEMENT_NODE){var c=this.getPseudoElement(a,":before");a=this.getPseudoElement(a,":after");c&&b.push(c);a&&b.push(a)}return G(b)};a.prototype.getPseudoElement=function(a,b){var c=a.computedStyle(b);if(!c||!c.content||"none"===c.content||"-moz-alt-content"===c.content||"none"===c.display)return null;var d,e=c.content,g=e.substr(0,1);d=g===e.substr(e.length-1)&&g.match(/'|"/)?e.substr(1,e.length-2):e;for(var h="url"===d.substr(0,3),e=document.createElement(h?"img":"html2canvaspseudoelement"),g=
new H(e,a,b),f=c.length-1;0<=f;f--){var n=k(c.item(f));e.style[n]=c[n]}e.className=H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(h)return e.src=X(d)[0].args[0],[g];c=document.createTextNode(d);e.appendChild(c);return[g,new K(c,g)]};a.prototype.getChildren=function(a){return G([].filter.call(a.node.childNodes,M).map(function(b){var c=[b.nodeType===Node.TEXT_NODE?new K(b,a):new L(b,a)].filter(F);return b.nodeType===Node.ELEMENT_NODE&&c.length&&"TEXTAREA"!==
b.tagName?c[0].isElementVisible()?c.concat(this.getChildren(c[0])):[]:c},this))};a.prototype.newStackingContext=function(a,b){var c=new N(b,a.getOpacity(),a.node,a.parent);a.cloneTo(c);(b?c.getParentStack(this):c.parent.stack).contexts.push(c);a.stack=c};a.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){var b;if(b=v(a))(b=this.isRootElement(a)||1>a.getOpacity())||(b=a.css("position"),b="auto"!==(-1!==["absolute","relative","fixed"].indexOf(b)?a.css("zIndex"):"auto")),b=
b||this.isBodyWithTransparentRoot(a)||a.hasTransform();b?this.newStackingContext(a,!0):v(a)&&(y(a)&&q(a)||-1!==["inline-block","inline-table"].indexOf(a.css("display"))||w(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(a){return"BODY"===a.node.nodeName&&a.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=function(a){return null===a.parent};a.prototype.sortStackingContexts=function(a){a.contexts.sort(C(a.contexts.slice(0)));
a.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(a){return function(b,c,d){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==b.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform())return c=d.slice(0,c).join("").length,this.getRangeBounds(a.node,c,b.length);if(a.node&&"string"===typeof a.node.data)return b=a.node.splitText(b.length),c=this.getWrapperBounds(a.node,a.parent.hasTransform()),a.node=b,c}else if(!this.support.rangeBounds||
a.parent.hasTransform())a.node=a.node.splitText(b.length);return{}}};a.prototype.getWrapperBounds=function(a,b){var c=a.ownerDocument.createElement("html2canvaswrapper"),d=a.parentNode,e=a.cloneNode(!0);c.appendChild(a.cloneNode(!0));d.replaceChild(c,a);var g=b?W(c):V(c);d.replaceChild(e,c);return g};a.prototype.getRangeBounds=function(a,b,c){var d=this.range||(this.range=a.ownerDocument.createRange());d.setStart(a,b);d.setEnd(a,b+c);return d.getBoundingClientRect()};a.prototype.parse=function(a){var b=
a.contexts.filter(h),c=a.children.filter(v),d=c.filter(z(w)),g=d.filter(z(y)).filter(z(t)),c=c.filter(z(y)).filter(w),f=d.filter(z(y)).filter(t),d=a.contexts.concat(d.filter(y)).filter(q),k=a.children.filter(E).filter(u);a=a.contexts.filter(r);b.concat(g).concat(c).concat(f).concat(d).concat(k).concat(a).forEach(function(a){this.renderQueue.push(a);a instanceof N&&(this.parse(a),this.renderQueue.push(new e))},this)};a.prototype.paint=function(a){try{a instanceof e?this.renderer.ctx.restore():E(a)?
(!0===a.parent.isPseudoElement&&a.parent.appendToDOM(),this.paintText(a),!0===a.parent.isPseudoElement&&a.parent.cleanDOM()):this.paintNode(a)}catch(b){if(A(b),this.options.strict)throw b;}};a.prototype.paintNode=function(a){a instanceof N&&(this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform()));"INPUT"===a.node.nodeName&&"checkbox"===a.node.type?this.paintCheckbox(a):"INPUT"===a.node.nodeName&&"radio"===a.node.type?this.paintRadio(a):
this.paintElement(a)};a.prototype.paintElement=function(a){var b=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,b,a.borders.borders.map(O))},this);this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this);this.renderer.clip(a.backgroundClip,function(){switch(a.node.nodeName){case "svg":case "IFRAME":var c=this.images.get(a.node);c?this.renderer.renderImage(a,b,a.borders,c):A("Error loading <"+a.node.nodeName+">",a.node);
break;case "IMG":(c=this.images.get(a.node.src))?this.renderer.renderImage(a,b,a.borders,c):A("Error loading <img>",a.node.src);break;case "CANVAS":this.renderer.renderImage(a,b,a.borders,{image:a.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(a)}},this)};a.prototype.paintCheckbox=function(a){var c=a.parseBounds(),d=Math.min(c.width,c.height),e={width:d-1,height:d-1,top:c.top,left:c.left},c=[3,3],h=[c,c,c,c],f=[1,1,1,1].map(function(a){return{color:new J("#A5A5A5"),width:a}}),
k=b(e,h,f);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(e.left+1,e.top+1,e.width-2,e.height-2,new J("#DEDEDE"));this.renderer.renderBorders(g(f,e,k,h));a.node.checked&&(this.renderer.font(new J("#424242"),"normal","normal","bold",d-3+"px","arial"),this.renderer.text("\u2714",e.left+d/6,e.top+d-1))},this)};a.prototype.paintRadio=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(b.left+
1,b.top+1,c,new J("#DEDEDE"),1,new J("#A5A5A5"));a.node.checked&&this.renderer.circle(Math.ceil(b.left+c/4)+1,Math.ceil(b.top+c/4)+1,Math.floor(c/2),new J("#424242"))},this)};a.prototype.paintFormValue=function(a){var b=a.getValue();if(0<b.length){var c=a.node.ownerDocument,d=c.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(b){try{d.style[b]=
a.css(b)}catch(c){A("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});var e=a.parseBounds();d.style.position="fixed";d.style.left=e.left+"px";d.style.top=e.top+"px";d.textContent=b;c.body.appendChild(d);this.paintText(new K(d.firstChild,a));c.body.removeChild(d)}};a.prototype.paintText=function(a){a.applyTextTransform();var b=B.ucs2.decode(a.node.data),c=this.options.letterRendering&&!/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(a.node.data)?
b.map(function(a){return B.ucs2.encode([a])}):I(b),b=a.parent.fontWeight(),d=a.parent.css("fontSize"),e=a.parent.css("fontFamily"),g=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),b,d,e);g.length?this.renderer.fontShadow(g[0].color,g[0].offsetX,g[0].offsetY,g[0].blur):this.renderer.clearShadow();this.renderer.clip(a.parent.clip,function(){c.map(this.parseTextBounds(a),this).forEach(function(b,g){b&&(this.renderer.text(c[g],
b.left,b.bottom),this.renderTextDecoration(a.parent,b,this.fontMetrics.getMetrics(e,d)))},this)},this)};a.prototype.renderTextDecoration=function(a,b,c){switch(a.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(b.left,Math.round(b.top+c.baseline+c.lineWidth),b.width,1,a.color("color"));break;case "overline":this.renderer.rectangle(b.left,Math.round(b.top),b.width,1,a.color("color"));break;case "line-through":this.renderer.rectangle(b.left,Math.ceil(b.top+c.middle+c.lineWidth),
b.width,1,a.color("color"))}};var S={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(a){var c=a.parseBounds(),d=x(a),e=["Top","Right","Bottom","Left"].map(function(b,c){var d=a.css("border"+b+"Style"),e=a.color("border"+b+"Color");"inset"===d&&e.isBlack()&&(e=new J([255,255,255,e.a]));d=S[d]?S[d][c]:null;return{width:a.cssInt("border"+b+"Width"),color:d?e[d[0]](d[1]):e,args:null}}),h=b(c,d,e);return{clip:this.parseBackgroundClip(a,h,e,d,c),borders:g(e,
c,h,d)}};a.prototype.parseBackgroundClip=function(a,b,c,d,e){var g=[];switch(a.css("backgroundClip")){case "content-box":case "padding-box":p(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width);p(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width);p(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width);p(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);
break;default:p(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),p(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),p(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),p(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g};m.exports=a},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,"./textcontainer":28,"./utils":29,punycode:3}],18:[function(f,
m,l){m.exports=f("es6-promise").Promise},{"es6-promise":1}],19:[function(f,m,l){function a(a,d,f){var n="withCredentials"in new XMLHttpRequest;if(!d)return b.reject("No proxy configured");var p=e(n);a=g(d,a,p);return n?c(a):k(f,a,p).then(function(a){return h(a.content)})}function k(a,c,d){return new b(function(b,e){var g=a.createElement("script"),h=function(){delete window.html2canvas.proxy[d];a.body.removeChild(g)};window.html2canvas.proxy[d]=function(a){h();b(a)};g.src=c;g.onerror=function(a){h();
e(a)};a.body.appendChild(g)})}function e(a){return a?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1E5*Math.random())}function g(a,b,c){return a+"?url="+encodeURIComponent(b)+(c.length?"&callback=html2canvas.proxy."+c:"")}function d(a){return function(b){var c=new DOMParser,d;try{d=c.parseFromString(b,"text/html")}catch(e){n("DOMParser not supported, falling back to createHTMLDocument");d=document.implementation.createHTMLDocument("");try{d.open(),d.write(b),d.close()}catch(g){n("createHTMLDocument write not supported, falling back to document.body.innerHTML"),
d.body.innerHTML=b}}b=d.querySelector("base");b&&b.href.host||(b=d.createElement("base"),b.href=a,d.head.insertBefore(b,d.head.firstChild));return d}}var b=f("./promise"),c=f("./xhr");m=f("./utils");var n=f("./log"),p=f("./clone"),h=m.decode64,r=0;l.Proxy=a;l.ProxyURL=function(a,c,d){var h="crossOrigin"in new Image,f=e(h);a=g(c,a,f);return h?b.resolve(a):k(d,a,f).then(function(a){return"data:"+a.type+";base64,"+a.content})};l.loadUrlDocument=function(b,c,e,g,h,f){return(new a(b,c,window.document)).then(d(b)).then(function(a){return p(a,
e,g,h,f,0,0)})}},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(f,m,l){var a=f("./proxy").ProxyURL,k=f("./promise");m.exports=function(e,g){var d=document.createElement("a");d.href=e;this.src=e=d.href;this.image=new Image;var b=this;this.promise=new k(function(c,d){b.image.crossOrigin="Anonymous";b.image.onload=c;b.image.onerror=d;(new a(e,g,document)).then(function(a){b.image.src=a})["catch"](d)})}},{"./promise":18,"./proxy":19}],21:[function(f,m,l){function a(a,g,
d){k.call(this,a,g);this.isPseudoElement=!0;this.before=":before"===d}var k=f("./nodecontainer");a.prototype.cloneTo=function(e){a.prototype.cloneTo.call(this,e);e.isPseudoElement=!0;e.before=this.before};a.prototype=Object.create(k.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);
this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";m.exports=a},{"./nodecontainer":16}],22:[function(f,m,l){function a(a,g,d,b,c){this.width=a;this.height=g;this.images=d;this.options=b;this.document=
c}var k=f("./log");a.prototype.renderImage=function(a,g,d,b){var c=a.cssInt("paddingLeft"),f=a.cssInt("paddingTop"),k=a.cssInt("paddingRight");a=a.cssInt("paddingBottom");d=d.borders;k=g.width-(d[1].width+d[3].width+c+k);a=g.height-(d[0].width+d[2].width+f+a);this.drawImage(b,0,0,b.image.width||k,b.image.height||a,g.left+c+d[3].width,g.top+f+d[0].width,k,a)};a.prototype.renderBackground=function(a,g,d){0<g.height&&0<g.width&&(this.renderBackgroundColor(a,g),this.renderBackgroundImage(a,g,d))};a.prototype.renderBackgroundColor=
function(a,g){var d=a.color("backgroundColor");d.isTransparent()||this.rectangle(g.left,g.top,g.width,g.height,d)};a.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)};a.prototype.renderBackgroundImage=function(a,g,d){a.parseBackgroundImages().reverse().forEach(function(b,c,f){switch(b.method){case "url":var p=this.images.get(b.args[0]);p?this.renderBackgroundRepeating(a,
g,p,f.length-(c+1),d):k("Error loading background-image",b.args[0]);break;case "linear-gradient":case "gradient":(c=this.images.get(b.value))?this.renderBackgroundGradient(c,g,d):k("Error loading background-image",b.args[0]);break;case "none":break;default:k("Unknown background-image type",b.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(a,g,d,b,c){var f=a.parseBackgroundSize(g,d.image,b),k=a.parseBackgroundPosition(g,d.image,b,f);switch(a.parseBackgroundRepeat(b)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(d,
k,f,g,g.left+c[3],g.top+k.top+c[0],99999,f.height,c);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(d,k,f,g,g.left+k.left+c[3],g.top+c[0],f.width,99999,c);break;case "no-repeat":this.backgroundRepeatShape(d,k,f,g,g.left+k.left+c[3],g.top+k.top+c[0],f.width,f.height,c);break;default:this.renderBackgroundRepeat(d,k,f,{top:g.top,left:g.left},c[3],c[0])}};m.exports=a},{"./log":15}],23:[function(f,m,l){function a(a,c){e.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
this.options.canvas||(this.canvas.width=a,this.canvas.height=c);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};d("Initialized CanvasRenderer with size",a,"x",c)}function k(a){return 0<a.length}var e=f("../renderer"),g=f("../lineargradientcontainer"),d=f("../log");a.prototype=Object.create(e.prototype);a.prototype.setFillStyle=function(a){this.ctx.fillStyle="object"===typeof a&&a.isColor?a.toString():
a;return this.ctx};a.prototype.rectangle=function(a,c,d,e,g){this.setFillStyle(g).fillRect(a,c,d,e)};a.prototype.circle=function(a,c,d,e){this.setFillStyle(e);this.ctx.beginPath();this.ctx.arc(a+d/2,c+d/2,d/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(a,c,d,e,g,f){this.circle(a,c,d,e);this.ctx.strokeStyle=f.toString();this.ctx.stroke()};a.prototype.drawShape=function(a,c){this.shape(a);this.setFillStyle(c).fill()};a.prototype.taints=function(a){if(null===
a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(c){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted};a.prototype.drawImage=function(a,c,d,e,g,f,k,m,l){this.taints(a)&&!this.options.allowTaint||this.ctx.drawImage(a.image,c,d,e,g,f,k,m,l)};a.prototype.clip=function(a,c,d){this.ctx.save();a.filter(k).forEach(function(a){this.shape(a).clip()},this);c.call(d);this.ctx.restore()};a.prototype.shape=function(a){this.ctx.beginPath();
a.forEach(function(a,b){"rect"===a[0]?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[0===b?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(a,c,d,e,g,f){this.setFillStyle(a).font=[c,d,e,g,f].join(" ").split(",")[0]};a.prototype.fontShadow=function(a,c,d,e){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",c).setVariable("shadowOffsetX",d).setVariable("shadowBlur",e)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
"rgba(0,0,0,0)")};a.prototype.setOpacity=function(a){this.ctx.globalAlpha=a};a.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]);this.ctx.transform.apply(this.ctx,a.matrix);this.ctx.translate(-a.origin[0],-a.origin[1])};a.prototype.setVariable=function(a,c){this.variables[a]!==c&&(this.variables[a]=this.ctx[a]=c);return this};a.prototype.text=function(a,c,d){this.ctx.fillText(a,c,d)};a.prototype.backgroundRepeatShape=function(a,c,d,e,g,f,k,m,l){g=[["line",Math.round(g),
Math.round(f)],["line",Math.round(g+k),Math.round(f)],["line",Math.round(g+k),Math.round(m+f)],["line",Math.round(g),Math.round(m+f)]];this.clip([g],function(){this.renderBackgroundRepeat(a,c,d,e,l[3],l[0])},this)};a.prototype.renderBackgroundRepeat=function(a,c,d,e,g,f){g=Math.round(e.left+c.left+g);c=Math.round(e.top+c.top+f);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,d),"repeat"));this.ctx.translate(g,c);this.ctx.fill();this.ctx.translate(-g,-c)};a.prototype.renderBackgroundGradient=
function(a,c){if(a instanceof g){var d=this.ctx.createLinearGradient(c.left+c.width*a.x0,c.top+c.height*a.y0,c.left+c.width*a.x1,c.top+c.height*a.y1);a.colorStops.forEach(function(a){d.addColorStop(a.stop,a.color.toString())});this.rectangle(c.left,c.top,c.width,c.height,d)}};a.prototype.resizeImage=function(a,c){var d=a.image;if(d.width===c.width&&d.height===c.height)return d;var e=document.createElement("canvas");e.width=c.width;e.height=c.height;e.getContext("2d").drawImage(d,0,0,d.width,d.height,
0,0,c.width,c.height);return e};m.exports=a},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(f,m,l){function a(a,g,d,b){k.call(this,d,b);this.ownStacking=a;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*g}var k=f("./nodecontainer");a.prototype=Object.create(k.prototype);a.prototype.getParentStack=function(a){var g=this.parent?this.parent.stack:null;return g?g.ownStacking?g:g.getParentStack(a):a.stack};m.exports=a},{"./nodecontainer":16}],
25:[function(f,m,l){function a(a){this.rangeBounds=this.testRangeBounds(a);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(a){var e,g,d=!1;a.createRange&&(e=a.createRange(),e.getBoundingClientRect&&(g=a.createElement("boundtest"),g.style.height="123px",g.style.display="block",a.body.appendChild(g),e.selectNode(g),e=e.getBoundingClientRect(),e=e.height,123===e&&(d=!0),a.body.removeChild(g)));return d};a.prototype.testCORS=function(){return"undefined"!==typeof(new Image).crossOrigin};
a.prototype.testSVG=function(){var a=new Image,e=document.createElement("canvas"),g=e.getContext("2d");a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{g.drawImage(a,0,0),e.toDataURL()}catch(d){return!1}return!0};m.exports=a},{}],26:[function(f,m,l){function a(a){this.src=a;this.image=null;var b=this;this.promise=this.hasFabric().then(function(){return b.isInline(a)?k.resolve(b.inlineFormatting(a)):e(a)}).then(function(a){return new k(function(d){window.html2canvas.svg.fabric.loadSVGFromString(a,
b.createCanvas.call(b,d))})})}var k=f("./promise"),e=f("./xhr"),g=f("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?k.resolve():k.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)};a.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)};a.prototype.createCanvas=function(a){var b=this;return function(c,e){var g=new window.html2canvas.svg.fabric.StaticCanvas("c");b.image=g.lowerCanvasEl;g.setWidth(e.width).setHeight(e.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(c,e)).renderAll();a(g.lowerCanvasEl)}};a.prototype.decode64=function(a){return"function"===typeof window.atob?window.atob(a):g(a)};m.exports=a},{"./promise":18,"./utils":29,"./xhr":31}],
27:[function(f,m,l){function a(a,g){this.src=a;this.image=null;var d=this;this.promise=g?new k(function(b,c){d.image=new Image;d.image.onload=b;d.image.onerror=c;d.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a);!0===d.image.complete&&b(d.image)}):this.hasFabric().then(function(){return new k(function(b){window.html2canvas.svg.fabric.parseSVGDocument(a,d.createCanvas.call(d,b))})})}l=f("./svgcontainer");var k=f("./promise");a.prototype=Object.create(l.prototype);m.exports=
a},{"./promise":18,"./svgcontainer":26}],28:[function(f,m,l){function a(a,d){e.call(this,a,d)}function k(a,d,b){if(0<a.length)return d+b.toUpperCase()}var e=f("./nodecontainer");a.prototype=Object.create(e.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(a){var d=this.node.data;switch(a){case "lowercase":return d.toLowerCase();case "capitalize":return d.replace(/(^|\s|:|-|\(|\))([a-z])/g,k);case "uppercase":return d.toUpperCase();
default:return d}};m.exports=a},{"./nodecontainer":16}],29:[function(f,m,l){l.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};l.bind=function(a,f){return function(){return a.apply(f,arguments)}};l.decode64=function(a){var f=a.length,e,g,d,b,c,m,l="";for(e=0;e<f;e+=4)g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e]),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+1]),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+
2]),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+3]),g=g<<2|d>>4,d=(d&15)<<4|b>>2,m=(b&3)<<6|c,l=64===b?l+String.fromCharCode(g):64===c||-1===c?l+String.fromCharCode(g,d):l+String.fromCharCode(g,d,m);return l};l.getBounds=function(a){if(a.getBoundingClientRect){var f=a.getBoundingClientRect(),e=null==a.offsetWidth?f.width:a.offsetWidth;return{top:f.top,bottom:f.bottom||f.top+f.height,right:f.left+e,left:f.left,width:e,height:null==a.offsetHeight?f.height:a.offsetHeight}}return{}};
l.offsetBounds=function(a){var f=a.offsetParent?l.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+f.top,bottom:a.offsetTop+a.offsetHeight+f.top,right:a.offsetLeft+f.left+a.offsetWidth,left:a.offsetLeft+f.left,width:a.offsetWidth,height:a.offsetHeight}};l.parseBackgrounds=function(a){var f,e,g,d,b,c=[],l=0,m=0,h,r,q=function(){f&&('"'===e.substr(0,1)&&(e=e.substr(1,e.length-2)),e&&r.push(e),"-"===f.substr(0,1)&&0<(d=f.indexOf("-",1)+1)&&(g=f.substr(0,d),f=f.substr(d)),c.push({prefix:g,
method:f.toLowerCase(),value:b,args:r,image:null}));r=[];f=g=e=b=""};r=[];f=g=e=b="";a.split("").forEach(function(a){if(!(0===l&&-1<" \r\n\t".indexOf(a))){switch(a){case '"':h?h===a&&(h=null):h=a;break;case "(":if(h)break;else{if(0===l){l=1;b+=a;return}m++}break;case ")":if(h)break;else if(1===l){if(0===m){l=0;b+=a;q();return}m--}break;case ",":if(!h){if(0===l){q();return}if(1===l&&0===m&&!f.match(/^url$/i)){r.push(e);e="";b+=a;return}}}b+=a;0===l?f+=a:e+=a}});q();return c}},{}],30:[function(f,m,
l){function a(a){k.apply(this,arguments);this.type="linear"===a.args[0]?this.TYPES.LINEAR:this.TYPES.RADIAL}var k=f("./gradientcontainer");a.prototype=Object.create(k.prototype);m.exports=a},{"./gradientcontainer":11}],31:[function(f,m,l){var a=f("./promise");m.exports=function(f){return new a(function(a,g){var d=new XMLHttpRequest;d.open("GET",f);d.onload=function(){200===d.status?a(d.responseText):g(Error(d.statusText))};d.onerror=function(){g(Error("Network Error"))};d.send()})}},{"./promise":18}]},
{},[6])(6)});